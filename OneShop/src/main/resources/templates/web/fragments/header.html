<!DOCTYPE html>
<html lang="" xmlns:th="http://www.thymeleaf.org">
  <head>
    <title></title>
  </head>
  <body>
    <th:block th:fragment="header">
      <div class="backdrop"></div>
      <a class="backtop fas fa-arrow-up" href="#"></a>
      <header class="header-part">
        <div class="container">
          <div class="header-content">
            <a th:href="@{/}" class="header-logo">
              <img src="/images/logo/logo.png" alt="logo" />
            </a>
            <form
              th:action="@{/searchProduct}"
              method="get"
              class="header-form"
            >
              <input
                type="text"
                name="productName"
                th:value="${keyword}"
                placeholder="Tìm kiếm..."
                autocomplete="off"
              />
              <button><i class="fas fa-search"></i></button>
            </form>
            <div class="header-widget-group">
              <a
                th:href="@{/profile}"
                class="header-widget"
                title="Trang cá nhân"
              >
                <i class="fas fa-user"></i>
              </a>
              <a th:href="@{/products}" class="header-widget" title="Sản phẩm">
                <i class="fas fa-store"></i>
              </a>
              <th:block th:if="${session.user != null}">
                <a th:href="@{/logout}" class="header-widget" title="Đăng xuất">
                  <i class="fas fa-sign-out-alt"></i>
                </a>
              </th:block>
              <th:block
                th:if="${session.user == null or (#lists.isEmpty(session.user.roles.?[name=='ROLE_VENDOR']) and #lists.isEmpty(session.user.roles.?[name=='ROLE_ADMIN']))}"
              >
                <a th:href="@{/chat}" class="header-widget" title="Chat tư vấn">
                  <i class="fas fa-comments"></i>
                </a>
              </th:block>
              <th:block
                th:if="${session.user != null and (!#lists.isEmpty(session.user.roles.?[name=='ROLE_VENDOR']) or !#lists.isEmpty(session.user.roles.?[name=='ROLE_ADMIN']))}"
              >
                <a
                  th:href="@{/admin/vendor-chat}"
                  class="header-widget"
                  title="Vendor Chat"
                >
                  <i class="fas fa-headset"></i>
                </a>
              </th:block>
            </div>
          </div>
        </div>
      </header>
      <nav class="navbar-part">
        <div class="container">
          <div class="row">
            <div class="col-lg-12">
              <div class="navbar-content">
                <ul class="navbar-list">
                  <li class="navbar-item">
                    <a class="navbar-link" th:href="@{/}">Trang chủ</a>
                  </li>
                  <li class="navbar-item">
                    <a class="navbar-link" th:href="@{/products}">Sản phẩm</a>
                  </li>
                  <li class="navbar-item dropdown">
                    <a
                      class="navbar-link dropdown-arrow"
                      href="javascript:void(0);"
                      >Thể loại</a
                    >
                    <ul class="dropdown-position-list">
                      <li th:each="item : ${categories}">
                        <a
                          th:href="@{/productByCategory(id=${item.categoryId})}"
                          >[[${item.categoryName}]]</a
                        >
                      </li>
                    </ul>
                  </li>
                  <li class="navbar-item">
                    <a class="navbar-link" th:href="@{/contact}">Liên hệ</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </nav>
    </th:block>
  </body>
</html>
