# ğŸ›ï¸ OneShop - Há»‡ thá»‘ng bÃ¡n má»¹ pháº©m Ä‘a ná»n táº£ng

[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.5.5-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![Java](https://img.shields.io/badge/Java-21-orange.svg)](https://openjdk.java.net/)
[![SQL Server](https://img.shields.io/badge/SQL%20Server-2019-blue.svg)](https://www.microsoft.com/en-us/sql-server)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

## ğŸ“‹ Tá»•ng quan

**OneShop** lÃ  má»™t há»‡ thá»‘ng thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­ chuyÃªn vá» má»¹ pháº©m, Ä‘Æ°á»£c xÃ¢y dá»±ng vá»›i Spring Boot vÃ  há»— trá»£ Ä‘a vai trÃ² ngÆ°á»i dÃ¹ng. Há»‡ thá»‘ng tÃ­ch há»£p nhiá»u tÃ­nh nÄƒng hiá»‡n Ä‘áº¡i nhÆ° thanh toÃ¡n Ä‘iá»‡n tá»­, giao hÃ ng há»a tá»‘c, há»‡ thá»‘ng Ä‘iá»ƒm thÆ°á»Ÿng One Xu, vÃ  chat há»— trá»£ khÃ¡ch hÃ ng.

## âœ¨ TÃ­nh nÄƒng chÃ­nh

### ğŸ›’ **Mua sáº¯m & Quáº£n lÃ½ sáº£n pháº©m**
- **Danh má»¥c Ä‘a dáº¡ng**: Son mÃ´i, kem dÆ°á»¡ng da, nÆ°á»›c hoa, sá»¯a rá»­a máº·t, toner, máº·t náº¡, kem chá»‘ng náº¯ng, pháº¥n phá»§, táº©y táº¿ bÃ o cháº¿t, serum dÆ°á»¡ng da
- **TÃ¬m kiáº¿m thÃ´ng minh**: TÃ¬m kiáº¿m theo tÃªn sáº£n pháº©m, thÆ°Æ¡ng hiá»‡u, danh má»¥c
- **Giá» hÃ ng**: ThÃªm/xÃ³a sáº£n pháº©m, cáº­p nháº­t sá»‘ lÆ°á»£ng
- **YÃªu thÃ­ch**: LÆ°u sáº£n pháº©m vÃ o danh sÃ¡ch yÃªu thÃ­ch
- **ÄÃ¡nh giÃ¡ sáº£n pháº©m**: Há»‡ thá»‘ng Ä‘Ã¡nh giÃ¡ vá»›i hÃ¬nh áº£nh vÃ  video

### ğŸ’³ **Thanh toÃ¡n Ä‘a dáº¡ng**
- **COD**: Thanh toÃ¡n khi nháº­n hÃ ng
- **Chuyá»ƒn khoáº£n**: Chuyá»ƒn khoáº£n ngÃ¢n hÃ ng
- **MoMo**: Thanh toÃ¡n qua vÃ­ Ä‘iá»‡n tá»­ MoMo
- **PayOS**: TÃ­ch há»£p cá»•ng thanh toÃ¡n PayOS

### ğŸšš **Giao hÃ ng linh hoáº¡t**
- **Giao há»a tá»‘c**: Giao trong 2-4 giá» (cÃ¹ng tá»‰nh, cÃ³ shipper riÃªng)
- **Giao tiÃªu chuáº©n**: Giao trong 1-3 ngÃ y qua Ä‘Æ¡n vá»‹ váº­n chuyá»ƒn
- **Tá»± Ä‘á»™ng tÃ­nh phÃ­**: PhÃ­ ship 30k (cÃ¹ng tá»‰nh), 50k (khÃ¡c tá»‰nh)
- **Voucher giáº£m ship**: Há»‡ thá»‘ng voucher giáº£m phÃ­ váº­n chuyá»ƒn

### ğŸ¯ **Há»‡ thá»‘ng vai trÃ²**
- **ğŸ‘¤ USER**: KhÃ¡ch hÃ ng mua sáº¯m
- **ğŸ‘¨â€ğŸ’¼ ADMIN**: Quáº£n trá»‹ há»‡ thá»‘ng
- **ğŸª VENDOR**: Chá»§ shop bÃ¡n hÃ ng
- **ğŸšš SHIPPER**: NhÃ¢n viÃªn giao hÃ ng
- **ğŸ’¬ CSKH**: ChÄƒm sÃ³c khÃ¡ch hÃ ng

### ğŸª™ **Há»‡ thá»‘ng One Xu**
- **Check-in hÃ ng ngÃ y**: Nháº­n xu má»—i ngÃ y
- **ThÆ°á»Ÿng Ä‘Æ¡n hÃ ng**: 1% giÃ¡ trá»‹ Ä‘Æ¡n hÃ ng
- **ThÆ°á»Ÿng Ä‘Ã¡nh giÃ¡**: 300 xu cho Ä‘Ã¡nh giÃ¡ cÃ³ áº£nh/video
- **Sá»­ dá»¥ng xu**: Thanh toÃ¡n má»™t pháº§n Ä‘Æ¡n hÃ ng

### ğŸ” **Báº£o máº­t & XÃ¡c thá»±c**
- **JWT + Session**: Hybrid authentication
- **OAuth2**: ÄÄƒng nháº­p qua Facebook, Google
- **BCrypt**: MÃ£ hÃ³a máº­t kháº©u
- **CSRF Protection**: Báº£o vá»‡ chá»‘ng táº¥n cÃ´ng CSRF

### ğŸ’¬ **Chat há»— trá»£**
- **WebSocket**: Chat real-time
- **AI Chat**: TÃ­ch há»£p Google Gemini AI
- **Upload file**: Gá»­i hÃ¬nh áº£nh trong chat
- **Lá»‹ch sá»­ chat**: LÆ°u trá»¯ cuá»™c trÃ² chuyá»‡n

## ğŸ—ï¸ Kiáº¿n trÃºc há»‡ thá»‘ng

### **Backend**
- **Spring Boot 3.5.5**: Framework chÃ­nh
- **Spring Data JPA**: ORM vÃ  database access
- **Spring Security**: Báº£o máº­t vÃ  xÃ¡c thá»±c
- **Spring WebSocket**: Chat real-time
- **Thymeleaf**: Template engine

### **Database**
- **SQL Server**: Database chÃ­nh
- **MySQL**: Há»— trá»£ thay tháº¿
- **JPA/Hibernate**: ORM mapping

### **Frontend**
- **Bootstrap 5**: UI framework
- **jQuery**: JavaScript library
- **Font Awesome**: Icons
- **Slick Slider**: Carousel
- **Venobox**: Lightbox

### **TÃ­ch há»£p bÃªn ngoÃ i**
- **Cloudinary**: Quáº£n lÃ½ hÃ¬nh áº£nh
- **MoMo Payment**: Thanh toÃ¡n Ä‘iá»‡n tá»­
- **PayOS**: Cá»•ng thanh toÃ¡n
- **Google Gemini AI**: Chat AI
- **Gmail SMTP**: Gá»­i email

## ğŸš€ CÃ i Ä‘áº·t vÃ  cháº¡y

### **YÃªu cáº§u há»‡ thá»‘ng**
- Java 21+
- Maven 3.6+
- SQL Server 2019+ hoáº·c MySQL 8.0+
- IDE (IntelliJ IDEA, Eclipse, VS Code)

### **BÆ°á»›c 1: Clone repository**
```bash
git clone https://github.com/thanglb2005/Web_MyPham
cd OneShop
```

### **BÆ°á»›c 2: Cáº¥u hÃ¬nh database**
1. Táº¡o database `WebMyPham` trong SQL Server
2. Cháº¡y script `DB.sql` Ä‘á»ƒ táº¡o báº£ng vÃ  dá»¯ liá»‡u máº«u
3. Cáº­p nháº­t thÃ´ng tin káº¿t ná»‘i trong `application.properties`:

```properties
# SQL Server
spring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=WebMyPham;encrypt=true;trustServerCertificate=true
spring.datasource.username=sa
spring.datasource.password=your_password
```

### **BÆ°á»›c 3: Cáº¥u hÃ¬nh email**
Cáº­p nháº­t thÃ´ng tin Gmail SMTP trong `application.properties`:
```properties
spring.mail.username=your-email@gmail.com
spring.mail.password=your-app-password
```

### **BÆ°á»›c 4: Cáº¥u hÃ¬nh Cloudinary**
Táº¡o tÃ i khoáº£n Cloudinary vÃ  cáº­p nháº­t:
```properties
cloudinary.cloud-name=your-cloud-name
cloudinary.api-key=your-api-key
cloudinary.api-secret=your-api-secret
```

### **BÆ°á»›c 5: Cháº¡y á»©ng dá»¥ng**
```bash
mvn clean install
mvn spring-boot:run
```

Truy cáº­p: `http://localhost:8080`

## ğŸ‘¥ TÃ i khoáº£n demo

| Vai trÃ² | Email | Máº­t kháº©u | MÃ´ táº£ |
|---------|-------|----------|-------|
| **Admin** | admin@mypham.com | 123456 | Quáº£n trá»‹ há»‡ thá»‘ng |
| **Vendor** | vendor@mypham.com | 123456 | Chá»§ shop |
| **Shipper** | shipper@mypham.com | 123456 | NhÃ¢n viÃªn giao hÃ ng |
| **CSKH** | cskh@mypham.com | 123456 | ChÄƒm sÃ³c khÃ¡ch hÃ ng |
| **User** | user@gmail.com | 123456 | KhÃ¡ch hÃ ng |

## ğŸ“± CÃ¡c trang chÃ­nh

### **ğŸ‘¤ KhÃ¡ch hÃ ng**
- `/` - Trang chá»§
- `/product/{id}` - Chi tiáº¿t sáº£n pháº©m
- `/cart` - Giá» hÃ ng
- `/checkout` - Thanh toÃ¡n
- `/orders` - ÄÆ¡n hÃ ng cá»§a tÃ´i
- `/profile` - ThÃ´ng tin cÃ¡ nhÃ¢n
- `/favorites` - Sáº£n pháº©m yÃªu thÃ­ch

### **ğŸª Vendor**
- `/vendor/home` - Dashboard vendor
- `/vendor/products` - Quáº£n lÃ½ sáº£n pháº©m
- `/vendor/orders` - Quáº£n lÃ½ Ä‘Æ¡n hÃ ng
- `/vendor/revenue` - Thá»‘ng kÃª doanh thu
- `/vendor/shop` - ThÃ´ng tin shop

### **ğŸšš Shipper**
- `/shipper/home` - Dashboard shipper
- `/shipper/orders` - ÄÆ¡n hÃ ng cáº§n giao
- `/shipper/statistics` - Thá»‘ng kÃª giao hÃ ng

### **ğŸ‘¨â€ğŸ’¼ Admin**
- `/admin` - Dashboard admin
- `/admin/users` - Quáº£n lÃ½ ngÆ°á»i dÃ¹ng
- `/admin/products` - Quáº£n lÃ½ sáº£n pháº©m
- `/admin/orders` - Quáº£n lÃ½ Ä‘Æ¡n hÃ ng
- `/admin/reports` - BÃ¡o cÃ¡o thá»‘ng kÃª

### **ğŸ’¬ CSKH**
- `/cskh/chat` - Chat há»— trá»£ khÃ¡ch hÃ ng

## ğŸ”§ API Endpoints

### **Authentication**
```
POST /api/auth/login          # ÄÄƒng nháº­p
POST /api/auth/logout         # ÄÄƒng xuáº¥t
POST /api/auth/refresh        # Refresh token
GET  /api/auth/me            # ThÃ´ng tin user
```

### **Products**
```
GET  /api/products           # Danh sÃ¡ch sáº£n pháº©m
GET  /api/products/{id}      # Chi tiáº¿t sáº£n pháº©m
GET  /api/products/search    # TÃ¬m kiáº¿m sáº£n pháº©m
```

### **Orders**
```
POST /api/orders             # Táº¡o Ä‘Æ¡n hÃ ng
GET  /api/orders             # Danh sÃ¡ch Ä‘Æ¡n hÃ ng
GET  /api/orders/{id}        # Chi tiáº¿t Ä‘Æ¡n hÃ ng
PUT  /api/orders/{id}/status # Cáº­p nháº­t tráº¡ng thÃ¡i
```

### **Chat**
```
GET  /api/chat/history       # Lá»‹ch sá»­ chat
POST /api/chat/send          # Gá»­i tin nháº¯n
POST /api/chat/upload        # Upload file
```

## ğŸ“Š Cáº¥u trÃºc Database

### **Báº£ng chÃ­nh**
- `user` - ThÃ´ng tin ngÆ°á»i dÃ¹ng
- `role` - Vai trÃ² ngÆ°á»i dÃ¹ng
- `users_roles` - LiÃªn káº¿t user-role
- `categories` - Danh má»¥c sáº£n pháº©m
- `brands` - ThÆ°Æ¡ng hiá»‡u
- `products` - Sáº£n pháº©m
- `shops` - Cá»­a hÃ ng
- `orders` - ÄÆ¡n hÃ ng
- `order_details` - Chi tiáº¿t Ä‘Æ¡n hÃ ng
- `cart_items` - Giá» hÃ ng
- `one_xu_transactions` - Giao dá»‹ch One Xu
- `chat_messages` - Tin nháº¯n chat

## ğŸ¨ Giao diá»‡n

### **Responsive Design**
- Mobile-first approach
- Bootstrap 5 grid system
- Custom CSS cho má»¹ pháº©m
- Dark/Light theme support

### **UI Components**
- Product cards vá»›i hover effects
- Shopping cart vá»›i animation
- Checkout wizard
- Admin dashboard vá»›i charts
- Chat interface real-time

## ğŸ”’ Báº£o máº­t

### **Authentication**
- JWT tokens vá»›i refresh mechanism
- Session-based authentication
- OAuth2 social login
- Password encryption vá»›i BCrypt

### **Authorization**
- Role-based access control (RBAC)
- Method-level security
- CSRF protection
- SQL injection prevention

## ğŸ“ˆ Performance

### **Optimization**
- Lazy loading cho entities
- Database indexing
- Image optimization vá»›i Cloudinary
- Caching vá»›i Spring Cache
- Connection pooling

### **Monitoring**
- Spring Boot Actuator
- Health checks
- Metrics collection
- Error logging

## ğŸ§ª Testing

### **Unit Tests**
```bash
mvn test
```

### **Integration Tests**
```bash
mvn verify
```

## ğŸ“ Changelog

### **v1.0.0** (2025-01-15)
- âœ¨ Initial release
- ğŸ›’ E-commerce functionality
- ğŸ‘¥ Multi-role system
- ğŸ’³ Payment integration
- ğŸšš Delivery system
- ğŸª™ One Xu rewards
- ğŸ’¬ Chat support
- ğŸ¤– AI integration


## ğŸ“„ License

Distributed under the MIT License. See `LICENSE` for more information.

## ğŸ‘¨â€ğŸ’» TÃ¡c giáº£

**OneShop Team**
- VÃµ Thanh Sang                        	23110301
- LÃª VÄƒn Chiáº¿n Tháº¯ng                	  23110328
- Trá»‹nh Nguyá»…n HoÃ ng NguyÃªn  	          23110272
- Nguyá»…n PhÆ°Æ¡c Khang              	    23110236


## ğŸ™ Acknowledgments

- Spring Boot community
- Bootstrap team
- Font Awesome
- Cloudinary
- MoMo Payment
- Google Gemini AI

---
